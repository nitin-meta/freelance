{"ast":null,"code":"import _regeneratorRuntime from\"D:/freelance/mistu2/fontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/freelance/mistu2/fontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/freelance/mistu2/fontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Layout from\"../components/Layout/Layout\";import{useParams,useNavigate}from\"react-router-dom\";import\"../styles/CategoryProductStyles.css\";import axios from\"axios\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var CategoryProduct=function CategoryProduct(){var params=useParams();var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];useEffect(function(){if(params!==null&&params!==void 0&&params.slug)getPrductsByCat();},[params===null||params===void 0?void 0:params.slug]);var getPrductsByCat=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:8000/api/v1/product/product-category/\".concat(params.slug));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setProducts(data===null||data===void 0?void 0:data.products);setCategory(data===null||data===void 0?void 0:data.category);_context.next=11;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function getPrductsByCat(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-3 category\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-center\",children:[\"Category - \",category===null||category===void 0?void 0:category.name]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"text-center\",children:[products===null||products===void 0?void 0:products.length,\" result found \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9 offset-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap\",children:products===null||products===void 0?void 0:products.map(function(p){return/*#__PURE__*/_jsxs(\"div\",{className:\"card m-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:8000/api/v1/product/product-photo/\".concat(p._id),className:\"card-img-top\",alt:p.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-name-price\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:p.name}),/*#__PURE__*/_jsx(\"h5\",{className:\"card-title card-price\",children:p.price.toLocaleString(\"en-US\",{style:\"currency\",currency:\"USD\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text \",children:[p.description.substring(0,60),\"...\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-name-price\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info ms-1\",onClick:function onClick(){return navigate(\"/product/\".concat(p.slug));},children:\"More Details\"})})]})]},p._id);})})})})]})});};export default CategoryProduct;","map":{"version":3,"names":["React","useState","useEffect","Layout","useParams","useNavigate","axios","jsxs","_jsxs","jsx","_jsx","CategoryProduct","params","navigate","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","category","setCategory","slug","getPrductsByCat","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_callee$","_context","prev","next","get","concat","sent","t0","stop","apply","arguments","children","className","name","length","map","p","src","_id","alt","price","toLocaleString","style","currency","description","substring","onClick"],"sources":["D:/freelance/mistu2/fontend/src/pages/CategoryProduct.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../components/Layout/Layout\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport \"../styles/CategoryProductStyles.css\";\r\nimport axios from \"axios\";\r\nconst CategoryProduct = () => {\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n  const [products, setProducts] = useState([]);\r\n  const [category, setCategory] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (params?.slug) getPrductsByCat();\r\n  }, [params?.slug]);\r\n  const getPrductsByCat = async () => {\r\n    try {\r\n      const { data } = await axios.get(\r\n        `http://localhost:8000/api/v1/product/product-category/${params.slug}`\r\n      );\r\n      setProducts(data?.products);\r\n      setCategory(data?.category);\r\n    } catch (error) {\r\n      //console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"container mt-3 category\">\r\n        <h4 className=\"text-center\">Category - {category?.name}</h4>\r\n        <h6 className=\"text-center\">{products?.length} result found </h6>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-9 offset-1\">\r\n            <div className=\"d-flex flex-wrap\">\r\n              {products?.map((p) => (\r\n                <div className=\"card m-2\" key={p._id}>\r\n                  <img\r\n                    src={`http://localhost:8000/api/v1/product/product-photo/${p._id}`}\r\n                    className=\"card-img-top\"\r\n                    alt={p.name}\r\n                  />\r\n                  <div className=\"card-body\">\r\n                    <div className=\"card-name-price\">\r\n                      <h5 className=\"card-title\">{p.name}</h5>\r\n                      <h5 className=\"card-title card-price\">\r\n                        {p.price.toLocaleString(\"en-US\", {\r\n                          style: \"currency\",\r\n                          currency: \"USD\",\r\n                        })}\r\n                      </h5>\r\n                    </div>\r\n                    <p className=\"card-text \">\r\n                      {p.description.substring(0, 60)}...\r\n                    </p>\r\n                    <div className=\"card-name-price\">\r\n                      <button\r\n                        className=\"btn btn-info ms-1\"\r\n                        onClick={() => navigate(`/product/${p.slug}`)}\r\n                      >\r\n                        More Details\r\n                      </button>\r\n                      {/* <button\r\n                    className=\"btn btn-dark ms-1\"\r\n                    onClick={() => {\r\n                      setCart([...cart, p]);\r\n                      localStorage.setItem(\r\n                        \"cart\",\r\n                        JSON.stringify([...cart, p])\r\n                      );\r\n                      toast.success(\"Item Added to cart\");\r\n                    }}\r\n                  >\r\n                    ADD TO CART\r\n                  </button> */}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {/* <div className=\"m-2 p-3\">\r\n            {products && products.length < total && (\r\n              <button\r\n                className=\"btn btn-warning\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  setPage(page + 1);\r\n                }}\r\n              >\r\n                {loading ? \"Loading ...\" : \"Loadmore\"}\r\n              </button>\r\n            )}\r\n          </div> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default CategoryProduct;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}